" vim: ft=vimperator

set complete=l
set followhints=1
set newtab=all
set! browser.startup.page=1
set defsearch='g'

nmap -builtin <C-1> :tabfirst<cr>
nmap -builtin <C-9> :tablast<cr>

" faster scrolling:
nmap -builtin j 5j
nmap -builtin k 5k
nmap -builtin h 5h
nmap -builtin l 5l

nmap -builtin J 10j
nmap -builtin K 10k

" faster quit
nmap -builtin QQ :quit<cr>

" move through tabs:
nmap -builtin <C-Left> gT
nmap -builtin <C-Right> gt
nmap -builtin <C-h> gT
nmap -builtin <C-l> gt

" shift toolbar up and down:
nmap -builtin <C-j> :set guioptions+=BmT<cr>
nmap -builtin <C-k> :set guioptions-=BmT<cr>

" easier pasting
cmap -builtin <c-p> <c-v><c-v>
imap -builtin <c-p> <c-v><c-v>

" firebug:
nmap -builtin gn <F12>
nmap -builtin go <F12>
nmap -builtin <c-n> <c-s-c>

" faster gmail
nmap -builtin gm t http://gmail.com<cr>

nmap -builtin e :emenu<space>

" http://ingo-karkat.de/blog/2012/05/22/Pentadactyl%20set%20filetype%20in%20external%20Vim%20editor%20based%20on%20URL.html
imap -builtin <C-i> -javascript editExternallyWithFiletype()
javascript <<EOF
function editExternallyWithFiletype() {
    var save_editor = options["editor"];
    var filetype = editExternallyFiletype();
    if (filetype) {
        options["editor"] += " \"+setf " + filetype + "\"";
    }
    editor.editFieldExternally();
    options["editor"] = save_editor;
}

function editExternallyFiletype() {
    var host = buffer.URL.host
    switch(host.replace(/^www\./, "")) {
	case "github.com":
	    return "markdown";
	case "reddit.com":
	    return "markdown";
	case "stackoverflow.com":
	    return "markdown";
	case "mail.google.com":
	    return "mail";
    }
    if (host.match(/.*\.wikia\.com$/) || host.match(/.*\.wikipedia\.org$/))
	return "mediawiki";
}
EOF
